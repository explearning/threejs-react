(this["webpackJsonpreact-three-fiber-intro"]=this["webpackJsonpreact-three-fiber-intro"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(6),r=n(1),s=n.n(r),i=n(35),o=n.n(i),a=(n(46),n(47),n(10)),j=n(53),l=n(36);Object(a.b)({OrbitControls:l.a});var b=function(){var e=Object(a.e)(),t=e.camera,n=e.gl;return Object(c.jsx)("orbitControls",{attach:"orbitControls",args:[t,n.domElement]})},u=n(7),h=n(9),d=n(0),O=function(e){var t=Object(a.d)(d.TextureLoader,"/autoshop.jpg"),n=Object(a.e)().gl,s=Object(r.useMemo)((function(){return new d.WebGLCubeRenderTarget(t.image.height).fromEquirectangularTexture(n,t)}),[]);return Object(c.jsx)("primitive",{attach:"background",object:s})},f=function(e){var t=Object(j.c)((function(){return Object(u.a)({args:[20,1,10]},e)})),n=Object(h.a)(t,2),r=n[0];n[1];return Object(c.jsxs)("mesh",Object(u.a)(Object(u.a)({ref:r},e),{},{receiveShadow:!0,children:[Object(c.jsx)("boxBufferGeometry",{args:[200,1,200]}),Object(c.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},g=function(e){var t=Object(a.e)().scene,n=Object(r.useRef)(),s=Object(r.useRef)();return Object(r.useEffect)((function(){t.lightMeshes?t.lightMeshes.push(n):t.lightMeshes=[n],t.lights?t.lights.push(s):t.lights=[s]}),[]),Object(c.jsxs)("mesh",Object(u.a)(Object(u.a)({},e),{},{ref:n,children:[Object(c.jsx)("pointLight",{ref:s,attach:"light",castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10}),Object(c.jsx)("sphereBufferGeometry",{args:[.2,20,20]}),Object(c.jsx)("meshPhongMaterial",{emissive:"white"})]}))},p={activeMesh:{},activeMeshName:"Capot001_CAR_PAINT_0",cameraPos:new d.Vector3(9,2,4),target:new d.Vector3(4,0,0),shouldUpdate:!0},v=function(e){var t=function(e){p.activeMesh&&(p.activeMesh.material.color=new d.Color(e.target.style.background))};return Object(c.jsxs)("div",{style:{position:"absolute",zIndex:1,left:0,right:0,margin:"auto",width:"fit-content",display:"flex",top:"20px"},children:[Object(c.jsx)("div",{onClick:t,style:{background:"blue",height:50,width:50}}),Object(c.jsx)("div",{onClick:t,style:{background:"yellow",height:50,width:50}}),Object(c.jsx)("div",{onClick:t,style:{background:"white",height:50,width:50}})]})},x=n(18),m=function(e){var t=e.position,n=void 0===t?[0,0,0]:t,r=e.offset,s=void 0===r?[0,0,0]:r,i=e.dims,o=void 0===i?[1,1,1]:i,a=e.visible,l=void 0!==a&&a,b=e.children,u=Object(j.c)((function(){return{mass:1,args:o,position:n}})),d=Object(h.a)(u,2),O=d[0],f=d[1];return Object(c.jsxs)("group",{ref:O,api:f,children:[Object(c.jsxs)("mesh",{scale:o,visible:l,children:[Object(c.jsx)("boxBufferGeometry",{}),Object(c.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(c.jsx)("group",{position:s,children:b})]})},w=n(40),y=function(e){var t=Object(a.d)(w.a,"/threejs-react"+e.path);return t.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.side=d.FrontSide)})),Object(c.jsx)("primitive",{object:t.scene,scale:e.scale})},M=n(41);Object(a.b)({DragControls:M.a});var C=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),s=Object(r.useState)([]),i=Object(h.a)(s,2),o=i[0],j=i[1],l=Object(a.e)(),b=l.camera,u=l.gl,d=l.scene;return Object(r.useEffect)((function(){j(t.current.children)}),[]),Object(r.useEffect)((function(){n.current.addEventListener("hoveron",(function(e){return d.orbitControls.enabled=!1})),n.current.addEventListener("hoveroff",(function(e){return d.orbitControls.enabled=!0})),n.current.addEventListener("dragstart",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(0)})),n.current.addEventListener("dragend",(function(e){var t;return null===(t=e.object.api)||void 0===t?void 0:t.mass.set(1)})),n.current.addEventListener("drag",(function(e){var t,n;null===(t=e.object.api)||void 0===t||t.position.copy(e.object.position),null===(n=e.object.api)||void 0===n||n.velocity.set(0,0,0)}))}),[o]),Object(c.jsxs)("group",{ref:t,children:[Object(c.jsx)("dragControls",{transformGroup:e.transformGroup,ref:n,args:[o,b,u.domElement]}),e.children]})},k=function(e){return Object(x.a)(e),Object(c.jsxs)(r.Suspense,{fallback:null,children:[Object(c.jsx)(C,{transformGroup:!0,children:Object(c.jsx)(m,{position:[4,4,0],dims:[3,2,6],offset:[0,-.4,.8],children:Object(c.jsx)(y,{path:"/tesla_model_3/scene.gltf",scale:new Array(3).fill(.01)})})}),Object(c.jsx)(C,{transformGroup:!0,children:Object(c.jsx)(m,{position:[-4,4,0],dims:[3,2,7],offset:[0,-.8,.2],children:Object(c.jsx)(y,{path:"/tesla_model_s/scene.gltf",scale:new Array(3).fill(.013)})})})]})},S=function(e){return Object(x.a)(e),Object(a.c)((function(e){var t,n,c=e.camera,r=e.scene;(p.activeMesh.name!==p.activeMeshName&&(p.activeMesh=r.getObjectByName(p.activeMeshName)||{}),p.shouldUpdate)&&(c.position.lerp(p.cameraPos,.1),null===(t=r.orbitControls)||void 0===t||t.target.lerp(p.target,.1),null===(n=r.orbitControls)||void 0===n||n.update(),c.position.clone().sub(p.cameraPos).length()<.1&&(p.shouldUpdate=!1))})),null},P=n(14),E={zIndex:1,position:"absolute",bottom:"30vh",height:"30px",width:"30px",background:"white",textAlign:"center",borderRadius:"100%",fontSize:20,fontWeight:"bold",opacity:.7,border:"1px solid black",cursor:"pointer"},L=function(e){Object(x.a)(e);var t={1:{cameraPos:[9,2,4],target:[4,0,0],name:"Capot001_CAR_PAINT_0"},2:{cameraPos:[1,2,5],target:[-4,0,0],name:"object005_bod_0"}},n=function(e){var n,c;(n=p.cameraPos).set.apply(n,Object(P.a)(t[e].cameraPos)),(c=p.target).set.apply(c,Object(P.a)(t[e].target)),p.activeMeshName=t[e].name,p.shouldUpdate=!0};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(e){return n(2)},style:Object(u.a)({left:"40vw"},E),children:"<"}),Object(c.jsx)("button",{onClick:function(e){return n(1)},style:Object(u.a)({right:"40vw"},E),children:">"})]})},_=function(e){return Object(x.a)(e),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("ambientLight",{intensity:.2}),Object(c.jsx)("directionalLight",{intensity:.5,position:[6,3,0]}),Object(c.jsx)(g,{position:[-6,3,0]}),Object(c.jsx)(g,{position:[0,3,0]}),Object(c.jsx)(g,{position:[6,3,0]})]})},G=n(29),R=function(){var e=Object(a.e)().scene;console.log(Object(a.e)().gl);var t=Object(r.useState)([]),n=Object(h.a)(t,2),s=(n[0],n[1]),i=Object(r.useState)([]),o=Object(h.a)(i,2),j=o[0],l=o[1];return Object(r.useEffect)((function(){console.log(e.lightMeshes),s(e.lights),l(e.lightMeshes)}),[e.lights,e.lightMeshes]),j&&3===j.length&&Object(c.jsx)(G.a,{children:j.map((function(e){return Object(c.jsx)(G.b,{sun:e.current})}))})||null};var A=function(){return Object(c.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(c.jsx)(v,{}),Object(c.jsx)(L,{}),Object(c.jsxs)(a.a,{gl:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1},shadowMap:!0,style:{background:"black"},camera:{position:[7,7,7]},children:[Object(c.jsx)(S,{}),Object(c.jsx)(r.Suspense,{fallback:null,children:Object(c.jsx)(O,{})}),Object(c.jsx)(_,{}),Object(c.jsx)(b,{}),Object(c.jsxs)(j.a,{children:[Object(c.jsx)(k,{}),Object(c.jsx)(f,{position:[0,-.5,0]})]}),Object(c.jsx)(r.Suspense,{fallback:null,children:Object(c.jsx)(R,{})})]})]})},F=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,55)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(A,{})}),document.getElementById("root")),F()}},[[52,1,2]]]);
//# sourceMappingURL=main.7d21f18e.chunk.js.map